@tailwind base;
@tailwind components;
@tailwind utilities;

/* Removed top-level body font-family, it's handled in @layer base */

@layer base {
  :root {
    /* New Dark Theme based on user request */
    --background: 0 0% 0%; /* Black - for components, body will have gradient */
    --foreground: 0 0% 100%; /* White */

    --card: 180 12% 31%; /* Dark Slate Gray #445858 - for panels */
    --card-foreground: 0 0% 100%; /* White */

    --popover: 180 12% 31%; /* Dark Slate Gray #445858 */
    --popover-foreground: 0 0% 100%; /* White */

    --primary: 185 39% 60%; /* Tealish #6bbec4 - for actions */
    --primary-foreground: 0 0% 0%; /* Black - for contrast on Tealish */

    --secondary: 180 11% 36%; /* Slightly lighter than card #506666 */
    --secondary-foreground: 0 0% 100%; /* White */

    --muted: 180 13% 22%; /* Darker shade #303f3f */
    --muted-foreground: 0 0% 80%; /* Lighter gray for contrast */

    --accent: 94 56% 72%; /* Light Green #b4e28d - for success messages (mapped from accent) */
    --accent-foreground: 0 0% 0%; /* Black - for contrast on Light Green */

    --destructive: 327 65% 34%; /* Dark Magenta/Maroon #921e5b - for error messages */
    --destructive-foreground: 0 0% 100%; /* White - for contrast on Dark Magenta */

    --border: 180 10% 40%; /* #5c6666 */
    --input: 180 12% 35%; /* #4a5e5e */
    --ring: 185 39% 50%; /* Darker teal #5ba2a8 for focus rings */

    --radius: 0.5rem;

    /* Custom colors for game feedback, directly using new scheme */
    --success: 94 56% 72%; /* Light Green #b4e28d */
    --success-foreground: 0 0% 0%; /* Black */
    --error: 327 65% 34%; /* Dark Magenta/Maroon #921e5b */
    --error-foreground: 0 0% 100%; /* White */
    
    /* Chart colors - updated for dark background visibility */
    --chart-1: 30 90% 65%; /* Vibrant Orange */
    --chart-2: 150 70% 55%; /* Vibrant Green */
    --chart-3: 210 80% 60%; /* Vibrant Blue */
    --chart-4: 50 95% 60%; /* Vibrant Yellow */
    --chart-5: 0 85% 65%; /* Vibrant Red */

    /* Sidebar colors - adapted to new dark theme */
    --sidebar-background: 180 12% 25%;  /* Darker panel color #333f3f */
    --sidebar-foreground: 0 0% 90%; /* Lighter text */
    --sidebar-primary: 185 39% 55%; /* Slightly darker primary for sidebar elements */
    --sidebar-primary-foreground: 0 0% 0%; /* Black */
    --sidebar-accent: 94 56% 65%; /* Slightly darker accent (success green) */
    --sidebar-accent-foreground: 0 0% 0%; /* Black */
    --sidebar-border: 180 10% 35%; /* #475252 */
    --sidebar-ring: 185 39% 45%; /* #4f8a8f */
  }

  .dark {
    /* Making .dark theme identical to :root as the new theme is dark by default */
    --background: 0 0% 0%;
    --foreground: 0 0% 100%;
    --card: 180 12% 31%;
    --card-foreground: 0 0% 100%;
    --popover: 180 12% 31%;
    --popover-foreground: 0 0% 100%;
    --primary: 185 39% 60%;
    --primary-foreground: 0 0% 0%;
    --secondary: 180 11% 36%;
    --secondary-foreground: 0 0% 100%;
    --muted: 180 13% 22%;
    --muted-foreground: 0 0% 80%;
    --accent: 94 56% 72%;
    --accent-foreground: 0 0% 0%;
    --destructive: 327 65% 34%;
    --destructive-foreground: 0 0% 100%;
    --border: 180 10% 40%;
    --input: 180 12% 35%;
    --ring: 185 39% 50%;
    --success: 94 56% 72%;
    --success-foreground: 0 0% 0%;
    --error: 327 65% 34%;
    --error-foreground: 0 0% 100%;
    --chart-1: 30 90% 65%;
    --chart-2: 150 70% 55%;
    --chart-3: 210 80% 60%;
    --chart-4: 50 95% 60%;
    --chart-5: 0 85% 65%;
    --sidebar-background: 180 12% 25%;
    --sidebar-foreground: 0 0% 90%;
    --sidebar-primary: 185 39% 55%;
    --sidebar-primary-foreground: 0 0% 0%;
    --sidebar-accent: 94 56% 65%;
    --sidebar-accent-foreground: 0 0% 0%;
    --sidebar-border: 180 10% 35%;
    --sidebar-ring: 185 39% 45%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply text-foreground; /* Apply foreground color (white) */
    /* Apply gradient background */
    background-color: hsl(var(--background)); /* Fallback: uses --background (black) */
    background-image: linear-gradient(to bottom, hsl(180, 12%, 31%), hsl(0, 0%, 0%)); /* #445858 to #000000 */
    background-repeat: no-repeat;
    background-attachment: fixed; /* Ensures gradient covers viewport */
    min-height: 100vh; /* Ensures gradient covers full height */
    font-family: var(--font-poppins), Arial, Helvetica, sans-serif; /* Apply Poppins font */
    touch-action: manipulation; /* From user HTML for better mobile UX */
  }
  /* For selection color, from user HTML */
  ::selection {
    @apply bg-primary text-primary-foreground; /* Uses new primary and primary-foreground */
  }
}

/* Custom game styles from HTML, adapted for Tailwind/ShadCN */
.keyboard-btn, .action-btn, .category-btn, .mode-btn {
  @apply transition-colors duration-200 ease-in-out transform active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed rounded-md py-3 px-4 font-semibold;
}

.bg-panel { /* Used for main containers in HTML */
  @apply bg-card; /* Will use the new --card color */
}
.border-primary { /* Used for letter underlines etc */
  border-color: hsl(var(--primary)); /* Uses new --primary color */
}
.border-panel-light { /* Used for empty letter underlines */
  @apply border-gray-600 dark:border-gray-700; /* Adjusted for new dark themes, can be tuned more if needed */
}

.text-accent-success {
  color: hsl(var(--success)); /* Uses new --success color (light green) */
}
.bg-accent-success {
  background-color: hsl(var(--success)); /* Uses new --success color */
  color: hsl(var(--success-foreground)); /* Uses new --success-foreground (black) */
}
.hover\:bg-accent-success-dark:hover {
  background-color: hsl(var(--success) / 0.9); /* Slightly darker on hover */
}

.text-accent-error {
  color: hsl(var(--error)); /* Uses new --error color (dark magenta) */
}
.bg-accent-error {
  background-color: hsl(var(--error)); /* Uses new --error color */
  color: hsl(var(--error-foreground)); /* Uses new --error-foreground (white) */
}
.hover\:bg-accent-error-dark:hover {
  background-color: hsl(var(--error) / 0.9); /* Slightly darker on hover */
}

.loading-spinner {
  @apply animate-spin rounded-full h-6 w-6 border-4 border-gray-300 border-t-primary; /* border-t-primary will use new primary */
}

.hangman-svg {
    width: 150px;
    height: 180px;
    stroke: hsl(var(--foreground)); /* Use theme foreground color (white) */
    stroke-width: 4;
    stroke-linecap: round;
    fill: none;
}
.hangman-svg .body-part { 
  display: none; 
  stroke: hsl(var(--foreground)); /* Ensure body parts also use theme foreground (white) */
}

/* Ensure button text is visible on primary/accent backgrounds */
/* These classes now correctly use the HSL variables which have appropriate foregrounds defined */
.btn-primary-text {
  @apply text-primary-foreground;
}
.btn-accent-text {
  @apply text-accent-foreground;
}
.btn-success-text {
  @apply text-success-foreground;
}
.btn-error-text {
  @apply text-error-foreground;
}
